{"code":"(this.webpackJsonpmesto__react=this.webpackJsonpmesto__react||[]).push([[0],{32:function(e,t,n){},40:function(e,t,n){\"use strict\";n.r(t);var a=n(1),c=n.n(a),r=n(22),s=n.n(r),o=n(8),i=(n(32),n(26)),l=n(14),u=n.n(l),p=n(18),d=n(2),h=n(3),j=n.p+\"static/media/header-logo.bbe2a6ea.svg\",b=n(0);function m(e){var t=e.isLoggedIn,n=(e.setLogged,e.onSignOut),a=e.userInfo,c=(e.setUserInfo,a.email),r=Object(h.h)(),s=r.pathname,i=\"/sign-in\"===r.pathname?\"/sign-up\":\"/sign-in\";return Object(b.jsxs)(\"header\",{className:\"header\",children:[Object(b.jsx)(o.b,{to:\"/\",target:\"_self\",className:\"header__link\",children:Object(b.jsx)(\"img\",{className:\"header__logo\",src:j,alt:\"\\u041c\\u0435\\u0441\\u0442\\u043e \\u0420\\u043e\\u0441\\u0441\\u0438\\u044f\"})}),Object(b.jsxs)(\"div\",{className:\"header__nav\",children:[c&&Object(b.jsx)(\"div\",{className:\"header__email\",children:\"/\"===s?c:\"\"}),t?Object(b.jsx)(o.b,{to:\"/\",onClick:function(){return n()},className:\"header__link\",children:\"\\u0412\\u044b\\u0439\\u0442\\u0438\"}):Object(b.jsx)(o.b,{to:i,className:\"header__link-noauth\",children:\"/sign-in\"===s?\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\":\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})]})]})}var f=c.a.createContext();function _(e){var t=e.card,n=e.onCardClick,a=e.onCardLike,r=e.onCardDelete,s=c.a.useContext(f),o=t.name,i=t.link,l=t.likes,u=t.owner._id===s._id,p=function(){return Object(b.jsx)(\"button\",{type:\"button\",className:\"place__button place__button_delete\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u043a\\u0430\\u0440\\u0442\\u043e\\u0447\\u043a\\u0443\",onClick:j})},d=t.likes.some((function(e){return e._id===s._id})),h=\"\".concat(d?\"place__button_like-active\":\"\");function j(){r(t)}return Object(b.jsxs)(\"article\",{className:\"place\",children:[Object(b.jsx)(\"img\",{src:i,alt:o,loading:\"lazy\",className:\"place__img\",onClick:function(){n(t)}}),Object(b.jsxs)(\"div\",{className:\"place__wrapper\",children:[Object(b.jsx)(\"h3\",{className:\"place__title\",children:o}),Object(b.jsx)(\"button\",{type:\"button\",onClick:function(){a(t)},className:\"place__button place__button_like \".concat(h),\"aria-label\":\"\\u041b\\u0430\\u0439\\u043a\\u043d\\u0443\\u0442\\u044c \\u044d\\u0442\\u0443 \\u0448\\u043d\\u044f\\u0433\\u0443\"}),Object(b.jsx)(\"span\",{className:\"place__like-counter\",children:l.length})]}),u&&Object(b.jsx)(p,{})]})}function O(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,r=e.onCardClick,s=(e.handleCardLike,e.handleCardDelete,e.onCardDelete),o=e.onCardLike,i=e.cards,l=c.a.useContext(f),u=l.about,p=l.name,d=l.avatar;return Object(b.jsxs)(\"main\",{className:\"content\",children:[Object(b.jsxs)(\"section\",{className:\"profile\",children:[Object(b.jsx)(\"div\",{onClick:t,className:\"profile__avatar-wrapper\",children:Object(b.jsx)(\"img\",{className:\"profile__avatar\",src:d,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\"})}),Object(b.jsxs)(\"div\",{className:\"profile__wrapper\",children:[Object(b.jsx)(\"h1\",{className:\"profile__header\",children:p}),Object(b.jsx)(\"button\",{className:\"profile__button profile__button_edit\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",onClick:n}),Object(b.jsx)(\"p\",{className:\"profile__subtitle\",children:u})]}),Object(b.jsx)(\"button\",{className:\"profile__button profile__button_add\",type:\"button\",\"aria-label\":\"\\u0414\\u043e\\u0431\\u0430\\u0432\\u0438\\u0442\\u044c \\u0447\\u0442\\u043e-\\u0442\\u043e \\u043d\\u043e\\u0432\\u0435\\u043d\\u044c\\u043a\\u043e\\u0435\",onClick:a})]}),Object(b.jsx)(\"section\",{className:\"places\",children:i.map((function(e){return Object(b.jsx)(_,{card:e,onCardLike:o,onCardDelete:s,onCardClick:r},e._id)}))})]})}function g(){return Object(b.jsx)(\"footer\",{className:\"footer\",children:Object(b.jsxs)(\"p\",{className:\"footer__item\",children:[\"\\xa9 \",(new Date).getFullYear(),\" Mesto Russia\"]})})}function x(e){var t=e.name,n=e.title,a=e.buttonText,c=e.isOpen,r=e.closeIt,s=e.children,o=e.onSubmit;return Object(b.jsx)(\"div\",{className:\"popup popup-\".concat(t,\" \").concat(c?\"popup_active\":\"\"),children:Object(b.jsxs)(\"div\",{className:\"popup__container\",children:[Object(b.jsx)(\"h3\",{className:\"popup__title\",children:n}),Object(b.jsxs)(\"form\",{className:\"form\",name:t,noValidate:!0,onSubmit:o,children:[s,Object(b.jsx)(\"button\",{type:\"submit\",className:\"form__button\",children:a})]}),Object(b.jsx)(\"button\",{type:\"button\",className:\"popup__button popup__button_close\",onClick:r})]})})}function v(e){var t=e.isOpen,n=e.closeIt,a=e.onUpdateUser,r=c.a.useContext(f),s=c.a.useState(\"\\u0416\\u0430\\u043a \\u0418\\u0432 \\u041a\\u0443\\u0441\\u0442\\u043e\"),o=Object(d.a)(s,2),i=o[0],l=o[1],u=c.a.useState(\"\\u041a\\u043b\\u0430\\u0441\\u0441\\u043d\\u044b\\u0439 \\u0447\\u0435\\u043b\"),p=Object(d.a)(u,2),h=p[0],j=p[1];return c.a.useEffect((function(){l(r.name),j(r.about)}),[r,t]),Object(b.jsxs)(x,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",buttonText:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\",isOpen:t,closeIt:n,onSubmit:function(e){e.preventDefault(),a({name:i,about:h})}.bind(this),children:[Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{className:\"form__input\",id:\"profile__header-change\",type:\"text\",name:\"profile-name\",placeholder:\"\\u0418\\u043c\\u044f\",minLength:\"2\",maxLength:\"40\",value:i||\"\",onChange:function(e){l(e.target.value)},required:!0}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"profile__header-change-error\"})]}),Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{className:\"form__input\",id:\"profile__subtitle-change\",type:\"text\",name:\"profile-job\",minLength:\"2\",maxLength:\"200\",required:!0,value:h||\"\",onChange:function(e){j(e.target.value)},placeholder:\"\\u0427\\u0435\\u043c \\u0437\\u0430\\u043d\\u044f\\u0442?\"}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"profile__subtitle-change-error\"})]})]})}function N(e){var t=e.isOpen,n=e.closeIt,a=e.onUpdatePlace,r=c.a.useState(\"\"),s=Object(d.a)(r,2),o=s[0],i=s[1],l=c.a.useState(\"\"),u=Object(d.a)(l,2),p=u[0],h=u[1];return c.a.useEffect((function(){i(\"\"),h(\"\")}),[t]),Object(b.jsxs)(x,{name:\"popup-place\",title:\"\\u041d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e\",buttonText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c\",isOpen:t,closeIt:n,onSubmit:function(e){e.preventDefault(),a({name:o,link:p})}.bind(this),children:[Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{id:\"place-title-change\",className:\"form__input\",type:\"text\",name:\"place-title\",placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",minLength:\"1\",maxLength:\"30\",value:o,onChange:function(e){i(e.target.value)},required:!0}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"place-title-change-error\"})]}),Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{className:\"form__input\",type:\"url\",id:\"place-url-change\",name:\"place-url\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",minLength:\"1\",value:p,onChange:function(e){h(e.target.value)},required:!0}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"place-url-change-error\"})]})]})}function k(e){var t=e.isOpen,n=e.card,a=e.closeIt;console.log(\"try\",\"popup popup-image \".concat(t?\"popup_active\":\"\"));var c=n.name,r=n.link;return Object(b.jsx)(\"div\",{className:\"popup popup-image \".concat(t?\"popup_active\":\"\"),children:Object(b.jsxs)(\"div\",{className:\"popup__container popup__container_image\",children:[Object(b.jsx)(\"img\",{className:\"popup__img\",loading:\"lazy\",src:r,alt:c}),Object(b.jsx)(\"p\",{className:\"popup__subtitle\",children:c}),Object(b.jsx)(\"button\",{onClick:a,type:\"button\",className:\"popup__button popup__button_close popup__image-view\"})]})})}function C(e){var t=e.isOpen,n=e.closeIt,a=e.onUpdateAvatar,r=c.a.useRef(null);return Object(b.jsx)(x,{name:\"popup-avatar\",title:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\",isOpen:t,closeIt:n,onSubmit:function(e){e.preventDefault(),a({avatar:r.current.value}),r.current.value=\"\"},children:Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{className:\"form__input\",type:\"url\",id:\"avatar-url-change\",name:\"avatar-url\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",minLength:\"1\",required:!0,ref:r}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"avatar-url-change-error\"})]})})}var y=n(24),w=n(25),S=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(y.a)(this,e),this.baseUrl=n,this.headers=a}return Object(w.a)(e,[{key:\"getInitialData\",value:function(){return Promise.all([this.getUserInfo(),this.getCards()])}},{key:\"_handleOriginalResponse\",value:function(e){return e.ok?e.json():Promise.reject(\"Error: \".concat(e.status))}},{key:\"getUserInfo\",value:function(){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"GET\",headers:this.headers}).then(this._handleOriginalResponse)}},{key:\"setUserInfo\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleOriginalResponse)}},{key:\"setUserAvatar\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:e.avatar})}).then(this._handleOriginalResponse)}},{key:\"getCards\",value:function(){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"GET\",headers:this.headers}).then(this._handleOriginalResponse)}},{key:\"addNewCard\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleOriginalResponse)}},{key:\"addLike\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(e._id),{method:\"PUT\",headers:this.headers}).then(this._handleOriginalResponse)}},{key:\"deleteLike\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(e._id),{method:\"DELETE\",headers:this.headers}).then(this._handleOriginalResponse)}},{key:\"deleteCard\",value:function(e){return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(e._id),{method:\"DELETE\",headers:this.headers}).then(this._handleOriginalResponse)}}]),e}())({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-21\",headers:{authorization:\"106173b1-6f76-485f-b86e-e9e649d98c04\",\"Content-Type\":\"application/json\"}}),L=\"https://auth.nomoreparties.co\",I=n(11),E=n(9);var U=function(e){var t=e.name,n=e.title,a=e.children,c=e.onSubmit;return Object(b.jsx)(\"div\",{className:\"authpage form_type_\".concat(t),children:Object(b.jsxs)(\"div\",{className:\"authpage__container\",children:[Object(b.jsx)(\"h3\",{className:\"authform__title\",children:n}),Object(b.jsx)(\"form\",{className:\"authform\",name:t,method:\"GET\",noValidate:!0,onSubmit:c,children:a})]})})};function T(e){var t=e.onRegister,n=c.a.useState({email:\"\",password:\"\"}),a=Object(d.a)(n,2),r=a[0],s=a[1];function i(e){var t=e.target,n=t.name,a=t.value;s(Object(E.a)(Object(E.a)({},r),{},Object(I.a)({},n,a)))}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(U,{name:\"register-form\",title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044f\",onSubmit:function(e){e.preventDefault();var n=r.email,a=r.password;t(n,a)},children:[Object(b.jsxs)(\"label\",{className:\"authform__label\",children:[Object(b.jsx)(\"input\",{type:\"email\",className:\"authform__input authform__input_type_email\",id:\"email-input\",value:r.email,name:\"email\",placeholder:\"Email\",required:!0,minLength:\"2\",maxLength:\"40\",onChange:i}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"email-input-error\"})]}),Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{type:\"password\",className:\"authform__input authform__input_type_password\",id:\"password-input\",value:r.password,name:\"password\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",required:!0,minLength:\"8\",maxLength:\"200\",onChange:i}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"password-input-error\"})]}),Object(b.jsx)(\"button\",{type:\"submit\",className:\"authform__button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c\\u0441\\u044f\"}),Object(b.jsxs)(\"p\",{className:\"authform__login\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u044b?\",\" \",Object(b.jsx)(o.b,{to:\"/sign-in\",className:\"authform__link\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})]})]})})}function P(e){var t=e.onLogin,n=c.a.useState({email:\"\",password:\"\"}),a=Object(d.a)(n,2),r=a[0],s=a[1];function o(e){var t=e.target,n=t.name,a=t.value;s(Object(E.a)(Object(E.a)({},r),{},Object(I.a)({},n,a)))}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(U,{name:\"login-form\",title:\"\\u0412\\u0445\\u043e\\u0434\",onSubmit:function(e){e.preventDefault();var n=r.email,a=r.password;n&&a&&t(n,a)},children:[Object(b.jsxs)(\"label\",{className:\"authform__label\",children:[Object(b.jsx)(\"input\",{type:\"email\",className:\"authform__input authform__input_type_email\",id:\"email-input\",value:r.email,name:\"email\",placeholder:\"Email\",required:!0,minLength:\"2\",maxLength:\"40\",onChange:o}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"email-input-error\"})]}),Object(b.jsxs)(\"label\",{className:\"form__label\",children:[Object(b.jsx)(\"input\",{type:\"password\",className:\"authform__input authform__input_type_password\",id:\"password-input\",value:r.password,name:\"password\",placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",required:!0,minLength:\"8\",maxLength:\"200\",onChange:o}),Object(b.jsx)(\"span\",{className:\"form__error\",id:\"password-input-error\"})]}),Object(b.jsx)(\"button\",{type:\"submit\",className:\"authform__button\",children:\"\\u0412\\u043e\\u0439\\u0442\\u0438\"})]})})}function D(e){var t=e.onClose,n=e.isOk;return Object(b.jsx)(\"div\",{className:\"popup popup-popup-registration popup_active\",children:Object(b.jsxs)(\"div\",{className:\"popup__container popup__container_registration\",children:[Object(b.jsx)(\"button\",{className:\"popup__button popup__button_close\",type:\"button\",\"aria-label\":\"\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c \\u0444\\u043e\\u0440\\u043c\\u0443\",onClick:t}),Object(b.jsx)(\"div\",{className:\"popup__register popup__register_type_\".concat(n?\"ok\":\"error\")}),Object(b.jsx)(\"h3\",{className:\"popup__title_registration\",children:n?\"\\u0412\\u044b \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043b\\u0438\\u0441\\u044c\":\"\\u0427\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a! \\u041f\\u043e\\u043f\\u0440\\u043e\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0451 \\u0440\\u0430\\u0437.\"})]})})}var A=n(27),R=function(e){var t=e.component,n=Object(A.a)(e,[\"component\"]);return Object(b.jsx)(h.b,{children:function(){return!0===n.isLoggedIn?Object(b.jsx)(t,Object(E.a)({},n)):Object(b.jsx)(h.a,{to:\"./sign-up\"})}})};var q=function(){var e=c.a.useState(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],r=c.a.useState(!1),s=Object(d.a)(r,2),o=s[0],l=s[1],j=c.a.useState(!1),_=Object(d.a)(j,2),y=_[0],w=_[1],I=c.a.useState(!1),E=Object(d.a)(I,2),U=E[0],A=E[1],q=c.a.useState({}),F=Object(d.a)(q,2),J=F[0],z=F[1],G=c.a.useState({}),B=Object(d.a)(G,2),H=B[0],M=B[1],V=c.a.useState([]),Y=Object(d.a)(V,2),K=Y[0],Q=Y[1],W=c.a.useState(!1),X=Object(d.a)(W,2),Z=X[0],$=X[1],ee=c.a.useState({}),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],ce=c.a.useState(!1),re=Object(d.a)(ce,2),se=re[0],oe=re[1],ie=c.a.useState(!1),le=Object(d.a)(ie,2),ue=le[0],pe=le[1],de=Object(h.g)();function he(){var e=localStorage.getItem(\"token\");e&&function(e){return fetch(\"\".concat(L,\"/users/me\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}}).then((function(e){return e})).catch((function(e){return console.log(e)}))}(e).then((function(e){if(401===e.status)throw new Error(\"\\u0422\\u043e\\u043a\\u0435\\u043d \\u043d\\u0435 \\u043f\\u0435\\u0440\\u0435\\u0434\\u0430\\u043d \\u0438\\u043b\\u0438 \\u043f\\u0435\\u0440\\u0435\\u0434\\u0430\\u043d \\u043d\\u0435 \\u0432 \\u0442\\u043e\\u043c \\u0444\\u043e\\u0440\\u043c\\u0430\\u0442\\u0435\");if(400===e.status)throw new Error(\"\\u041f\\u0435\\u0440\\u0435\\u0434\\u0430\\u043d\\u043d\\u044b\\u0439 \\u0442\\u043e\\u043a\\u0435\\u043d \\u043d\\u0435\\u043a\\u043e\\u0440\\u0440\\u0435\\u043a\\u0442\\u0435\\u043d\");return e.json()})).then((function(e){var t=e.data?e.data:{};$(!0),ae(t)})).catch((function(e){return console.log(e)}))}function je(){l(!1),a(!1),w(!1),A(!1),z({})}return c.a.useEffect((function(){function e(){return(e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getUserInfo();case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){return M(e)})).catch((function(e){return console.log(e)}))}),[]),c.a.useEffect((function(){function e(){return(e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getCards();case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){return Q(e)})).catch((function(e){return console.log(e)}))}),[]),c.a.useEffect((function(){he(),Z&&de.push(\"/\")}),[Z]),Object(b.jsx)(f.Provider,{value:H,children:Object(b.jsxs)(\"div\",{className:\"page__content\",children:[Object(b.jsxs)(\"div\",{className:\"page\",children:[Object(b.jsx)(m,{isLoggedIn:Z,setLogged:$,onSignOut:function(){localStorage.removeItem(\"token\"),de.push(\"/sign-in\"),$(!1)},userInfo:ne,setUserInfo:ae}),Object(b.jsxs)(h.d,{children:[Object(b.jsx)(h.b,{path:\"/sign-up\",children:Object(b.jsx)(T,{onRegister:function(e,t){(function(e,t){return fetch(\"\".concat(L,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){if(400===e.status)throw oe(!1),pe(!0),new Error(\"\\u043d\\u0435\\u043a\\u043e\\u0440\\u0440\\u0435\\u043a\\u0442\\u043d\\u043e \\u0437\\u0430\\u043f\\u043e\\u043b\\u043d\\u0435\\u043d\\u043e \\u043e\\u0434\\u043d\\u043e \\u0438\\u0437 \\u043f\\u043e\\u043b\\u0435\\u0439\");oe(!0),pe(!0)})).catch((function(e){return console.log(e)}))}})}),Object(b.jsx)(h.b,{path:\"/sign-in\",children:Object(b.jsx)(P,{onLogin:function(e,t){return function(e,t){return fetch(\"\".concat(L,\"/signin\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():e})).catch((function(e){return console.log(e)}))}(e,t).then((function(e){if(!e.token)throw 400===e.status?new Error(\"\\u043d\\u0435 \\u043f\\u0435\\u0440\\u0435\\u0434\\u0430\\u043d\\u043e \\u043e\\u0434\\u043d\\u043e \\u0438\\u0437 \\u043f\\u043e\\u043b\\u0435\\u0439\"):401===e.status?new Error(\"\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c \\u0441 email \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\"):new Error(\"\\u0447\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a\");$(!0),localStorage.setItem(\"token\",e.token)})).catch((function(e){return console.log(e)}))},tokenCheck:he})}),Object(b.jsx)(R,{exact:!0,path:\"/\",isLoggedIn:Z,component:O,onEditAvatar:function(){a(!0)},onEditProfile:function(){l(!0)},onAddPlace:function(){w(!0)},onCardClick:function(e){A(!0),z(e)},cards:K,onCardDelete:function(e){S.deleteCard(e).then((function(){Q(K.filter((function(t){return t._id!==e._id})))})).catch((function(e){console.log(e)}))},onCardLike:function(e){e.likes.some((function(e){return e._id===H._id}))?S.deleteLike(e).then((function(t){Q((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(e)})):S.addLike(e).then((function(t){Q((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(h.b,{children:Z?Object(b.jsx)(h.a,{to:\"/\"}):Object(b.jsx)(h.a,{to:\"/sign-in\"})})]}),Object(b.jsx)(g,{})]}),Object(b.jsx)(v,{isOpen:o,closeIt:je,onUpdateUser:function(e){S.setUserInfo(e).then((function(e){M(e),je()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(C,{isOpen:n,closeIt:je,onUpdateAvatar:function(e){S.setUserAvatar(e).then((function(e){M(e),je()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(N,{isOpen:y,closeIt:je,onUpdatePlace:function(e){S.addNewCard(e).then((function(e){Q([e].concat(Object(i.a)(K))),je()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(x,{name:\"popup-confirm\",title:\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u044b?\",buttonText:\"\\u0414\\u0430\",isOpen:!1,closeIt:je}),Object(b.jsx)(k,{isOpen:U,card:J,closeIt:je}),ue&&Object(b.jsx)(D,{onClose:se?function(){pe(!1),de.push(\"/sign-in\")}:function(){pe(!1)},isOk:se})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(q,{})})}),document.getElementById(\"root\")),F()}},[[40,1,2]]]);","name":"static/js/main.ad5e3cd0.chunk.js","map":{"version":3,"sources":["static/js/main.ad5e3cd0.chunk.js"],"names":["this","push","32","module","exports","__webpack_require__","40","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","slicedToArray","react_router","header_logo","p","jsx_runtime","Header","_ref","isLoggedIn","onSignOut","setLogged","userInfo","email","setUserInfo","currentLocation","Object","pathname","path","className","children","to","target","src","alt","onClick","CurrentUserContext","a","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","name","link","likes","isOwn","owner","_id","DeleteBtn","type","aria-label","handleDeleteClick","isLiked","some","i","cardLikeButtonClassName","concat","loading","length","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","about","avatar","map","Footer","Date","getFullYear","PopupWithForm","title","buttonText","isOpen","closeIt","onSubmit","noValidate","EditProfilePopup","onUpdateUser","_React$useState","useState","_React$useState2","setName","_React$useState3","_React$useState4","description","setDescription","useEffect","e","preventDefault","bind","id","placeholder","minLength","maxLength","value","onChange","required","AddPlacePopup","onUpdatePlace","placeName","setPlaceName","placeLink","setPlaceLink","ImagePopup","console","log","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","classCallCheck","createClass","utils_api","Api","baseUrl","headers","key","Promise","all","getUserInfo","getCards","res","ok","json","reject","status","fetch","method","then","_handleOriginalResponse","data","body","JSON","stringify","authorization","Content-Type","BASE_URL","defineProperty","objectSpread2","components_Form","Register","onRegister","password","setData","handleChange","evt","_evt$target","Login","onLogin","_e$target","InfoTooltip","onClose","isOk","objectWithoutProperties","components_ProtectedRoute","Component","component","props","components_App","isEditAvatarPopupOpen","setIsAvatarPopupOpen","isEditProfilePopupOpen","setIsPopupProfileState","_React$useState5","_React$useState6","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState7","_React$useState8","isImagePopupOpen","setIsImagePopupOpen","_React$useState9","_React$useState10","selectedCard","setSelectedCard","_React$useState11","_React$useState12","setCurrentUser","_React$useState13","_React$useState14","setCards","_React$useState15","_React$useState16","setIsLogged","_React$useState17","_React$useState18","_React$useState19","_React$useState20","registerIsOk","setRegisterIsOk","_React$useState21","_React$useState22","showInfoTooltip","setShowInfoTooltip","history","tokenCheck","token","localStorage","getItem","Accept","Authorization","catch","err","getUserData","Error","handleCloseAll","_fetchData","mark","_callee","wrap","_context","prev","next","sent","abrupt","stop","apply","arguments","fetchData","_fetchData2","_callee2","cardsData","_context2","Provider","removeItem","register","authorize","setItem","exact","deleteCard","filter","item","deleteLike","newCard","state","c","addLike","userData","setUserAvatar","placeData","addNewCard","src_reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmesto__react\"] = this[\"webpackJsonpmesto__react\"] || []).push([[0],{\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(22);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(14);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/img/header/header-logo.svg\n/* harmony default export */ var header_logo = (__webpack_require__.p + \"static/media/header-logo.bbe2a6ea.svg\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Header.js\n// eslint-disable-next-line react/prop-types\nfunction Header(_ref){var isLoggedIn=_ref.isLoggedIn,setLogged=_ref.setLogged,onSignOut=_ref.onSignOut,userInfo=_ref.userInfo,setUserInfo=_ref.setUserInfo;// eslint-disable-next-line react/prop-types\nvar email=userInfo.email;var currentLocation=Object(react_router[\"h\" /* useLocation */])();var pathname=currentLocation.pathname;var path=currentLocation.pathname==='/sign-in'?'/sign-up':'/sign-in';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",target:\"_self\",className:\"header__link\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"header__logo\",src:header_logo,alt:\"\\u041C\\u0435\\u0441\\u0442\\u043E \\u0420\\u043E\\u0441\\u0441\\u0438\\u044F\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header__nav\",children:[email&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"header__email\",children:pathname==='/'?email:''}),isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",onClick:function onClick(){return onSignOut();},className:\"header__link\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:path,className:\"header__link-noauth\",children:pathname==='/sign-in'?'Регистрация':'Войти'})]})]});}\n// CONCATENATED MODULE: ./src/contexts/CurrentUserContext.js\nvar CurrentUserContext=/*#__PURE__*/react_default.a.createContext();\n// CONCATENATED MODULE: ./src/components/Card.js\n// eslint-disable-next-line react/prop-types\nfunction Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=react_default.a.useContext(CurrentUserContext);// eslint-disable-next-line react/prop-types\nvar name=card.name,link=card.link,likes=card.likes;// eslint-disable-next-line react/prop-types\nvar isOwn=card.owner._id===currentUser._id;var DeleteBtn=function DeleteBtn(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"place__button place__button_delete\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443\",onClick:handleDeleteClick});};// eslint-disable-next-line react/prop-types\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});var cardLikeButtonClassName=\"\".concat(isLiked?'place__button_like-active':'');function handleClick(){onCardClick(card);}function handleLikeClick(){onCardLike(card);}function handleDeleteClick(){onCardDelete(card);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"article\",{className:\"place\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:link,alt:name,loading:\"lazy\",className:\"place__img\",onClick:handleClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"place__wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"place__title\",children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleLikeClick,className:\"place__button place__button_like \".concat(cardLikeButtonClassName),\"aria-label\":\"\\u041B\\u0430\\u0439\\u043A\\u043D\\u0443\\u0442\\u044C \\u044D\\u0442\\u0443 \\u0448\\u043D\\u044F\\u0433\\u0443\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"place__like-counter\",children:likes.length})]}),isOwn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteBtn,{})]});}\n// CONCATENATED MODULE: ./src/components/Main.js\n// eslint-disable-next-line react/prop-types\nfunction Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick,handleCardLike=_ref.handleCardLike,handleCardDelete=_ref.handleCardDelete,onCardDelete=_ref.onCardDelete,onCardLike=_ref.onCardLike,cards=_ref.cards;var currentUser=react_default.a.useContext(CurrentUserContext);var about=currentUser.about,name=currentUser.name,avatar=currentUser.avatar;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:onEditAvatar,className:\"profile__avatar-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"profile__avatar\",src:avatar// style={{ backgroundImage: `url(${defaultAvatar})` }}\n,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"profile__header\",children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile__button profile__button_edit\",type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",onClick:onEditProfile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"profile__subtitle\",children:about})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile__button profile__button_add\",type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0447\\u0442\\u043E-\\u0442\\u043E \\u043D\\u043E\\u0432\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435\",onClick:onAddPlace})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:\"places\",children:cards.map(function(card){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card,{card:card,onCardLike:onCardLike,onCardDelete:onCardDelete,onCardClick:onCardClick},card._id);})})]});}\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"footer__item\",children:[\"\\xA9 \",new Date().getFullYear(),\" Mesto Russia\"]})});}\n// CONCATENATED MODULE: ./src/components/PopupWithForm.js\n// eslint-disable-next-line react/prop-types\nfunction PopupWithForm(_ref){var name=_ref.name,title=_ref.title,buttonText=_ref.buttonText,isOpen=_ref.isOpen,closeIt=_ref.closeIt,children=_ref.children,onSubmit=_ref.onSubmit;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup-\".concat(name,\" \").concat(isOpen?'popup_active':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"popup__title\",children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"form\",name:name,noValidate:true,onSubmit:onSubmit,children:[children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"form__button\",children:buttonText})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"popup__button popup__button_close\",onClick:closeIt})]})});}\n// CONCATENATED MODULE: ./src/components/EditProfilePopup.js\n// eslint-disable-next-line react/prop-types\nfunction EditProfilePopup(_ref){var isOpen=_ref.isOpen,closeIt=_ref.closeIt,onUpdateUser=_ref.onUpdateUser;var currentUser=react_default.a.useContext(CurrentUserContext);var _React$useState=react_default.a.useState('Жак Ив Кусто'),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=react_default.a.useState('Классный чел'),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}react_default.a.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PopupWithForm,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,closeIt:closeIt,onSubmit:handleSubmit.bind(this),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form__input\",id:\"profile__header-change\",type:\"text\",name:\"profile-name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",value:name||'',onChange:handleNameChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"profile__header-change-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form__input\",id:\"profile__subtitle-change\",type:\"text\",name:\"profile-job\",minLength:\"2\",maxLength:\"200\",required:true,value:description||'',onChange:handleDescriptionChange,placeholder:\"\\u0427\\u0435\\u043C \\u0437\\u0430\\u043D\\u044F\\u0442?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"profile__subtitle-change-error\"})]})]});}\n// CONCATENATED MODULE: ./src/components/AddPlacePopup.js\n// eslint-disable-next-line react/prop-types\nfunction AddPlacePopup(_ref){var isOpen=_ref.isOpen,closeIt=_ref.closeIt,onUpdatePlace=_ref.onUpdatePlace;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),placeName=_React$useState2[0],setPlaceName=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),placeLink=_React$useState4[0],setPlaceLink=_React$useState4[1];react_default.a.useEffect(function(){setPlaceName('');setPlaceLink('');},[isOpen]);function handlePlaceNameChange(e){setPlaceName(e.target.value);}function handlePlaceLinkChange(e){setPlaceLink(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdatePlace({name:placeName,link:placeLink});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PopupWithForm,{name:\"popup-place\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",buttonText:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",isOpen:isOpen,closeIt:closeIt,onSubmit:handleSubmit.bind(this),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"place-title-change\",className:\"form__input\",type:\"text\",name:\"place-title\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"1\",maxLength:\"30\",value:placeName,onChange:handlePlaceNameChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"place-title-change-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form__input\",type:\"url\",id:\"place-url-change\",name:\"place-url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",minLength:\"1\",value:placeLink,onChange:handlePlaceLinkChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"place-url-change-error\"})]})]});};\n// CONCATENATED MODULE: ./src/components/ImagePopup.js\n// eslint-disable-next-line react/prop-types\nfunction ImagePopup(_ref){var isOpen=_ref.isOpen,card=_ref.card,closeIt=_ref.closeIt;console.log('try',\"popup popup-image \".concat(isOpen?'popup_active':''));// eslint-disable-next-line react/prop-types\nvar name=card.name,link=card.link;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup-image \".concat(isOpen?'popup_active':''),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container popup__container_image\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"popup__img\",loading:\"lazy\",src:link,alt:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"popup__subtitle\",children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:closeIt,type:\"button\",className:\"popup__button popup__button_close popup__image-view\"})]})});}\n// CONCATENATED MODULE: ./src/components/EditAvatarPopup.js\n// eslint-disable-next-line react/prop-types\nfunction EditAvatarPopup(_ref){var isOpen=_ref.isOpen,closeIt=_ref.closeIt,onUpdateAvatar=_ref.onUpdateAvatar;var avatarRef=react_default.a.useRef(null);function handleSubmit(e){e.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value});avatarRef.current.value='';}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PopupWithForm,{name:\"popup-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,closeIt:closeIt,onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form__input\",type:\"url\",id:\"avatar-url-change\",name:\"avatar-url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",minLength:\"1\",required:true,ref:avatarRef}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"avatar-url-change-error\"})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar api_Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;Object(classCallCheck[\"a\" /* default */])(this,Api);this.baseUrl=baseUrl;this.headers=headers;}Object(createClass[\"a\" /* default */])(Api,[{key:\"getInitialData\",value:function getInitialData(){return Promise.all([this.getUserInfo(),this.getCards()]);}},{key:\"_handleOriginalResponse\",value:function _handleOriginalResponse(res){if(!res.ok){return Promise.reject(\"Error: \".concat(res.status));}return res.json();}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:'GET',headers:this.headers}).then(this._handleOriginalResponse);}},{key:\"setUserInfo\",value:function setUserInfo(data){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({name:data['name'],about:data['about']})}).then(this._handleOriginalResponse);}},{key:\"setUserAvatar\",value:function setUserAvatar(data){return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this.headers,body:JSON.stringify({avatar:data['avatar']})}).then(this._handleOriginalResponse);}},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:'GET',headers:this.headers}).then(this._handleOriginalResponse);}},{key:\"addNewCard\",value:function addNewCard(data){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:'POST',headers:this.headers,body:JSON.stringify({name:data['name'],link:data['link']})}).then(this._handleOriginalResponse);}},{key:\"addLike\",value:function addLike(data){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(data['_id']),{method:'PUT',headers:this.headers}).then(this._handleOriginalResponse);}},{key:\"deleteLike\",value:function deleteLike(data){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(data['_id']),{method:'DELETE',headers:this.headers}).then(this._handleOriginalResponse);}},{key:\"deleteCard\",value:function deleteCard(data){return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(data['_id']),{method:'DELETE',headers:this.headers}).then(this._handleOriginalResponse);}}]);return Api;}();var api=new api_Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-21',headers:{authorization:'106173b1-6f76-485f-b86e-e9e649d98c04','Content-Type':'application/json'}});/* harmony default export */ var utils_api = (api);\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar BASE_URL='https://auth.nomoreparties.co';var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(res){return res;}).catch(function(err){return console.log(err);});};var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(res){return res.ok?res.json():res;}).catch(function(err){return console.log(err);});};var getUserData=function getUserData(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(function(res){return res;}).catch(function(err){return console.log(err);});};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/components/Form.js\n// eslint-disable-next-line react/prop-types\nfunction Form(_ref){var name=_ref.name,title=_ref.title,children=_ref.children,onSubmit=_ref.onSubmit;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"authpage form_type_\".concat(name),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"authpage__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"authform__title\",children:title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"authform\",name:name,method:\"GET\",noValidate:true,onSubmit:onSubmit,children:children})]})});}/* harmony default export */ var components_Form = (Form);\n// CONCATENATED MODULE: ./src/components/Register.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line react/prop-types\nfunction Register(_ref){var onRegister=_ref.onRegister;var _React$useState=react_default.a.useState({email:'',password:''}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},name,value)));}function handleSubmit(evt){evt.preventDefault();var email=data.email,password=data.password;onRegister(email,password);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Form,{name:\"register-form\",title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"authform__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"authform__input authform__input_type_email\",id:\"email-input\",value:data.email,name:\"email\",placeholder:\"Email\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"email-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"authform__input authform__input_type_password\",id:\"password-input\",value:data.password,name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:\"8\",maxLength:\"200\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"password-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"authform__button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"authform__login\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\",' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/sign-in\",className:\"authform__link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]})});}\n// CONCATENATED MODULE: ./src/components/Login.js\n// eslint-disable-next-line react/prop-types\nfunction Login(_ref){var onLogin=_ref.onLogin;var _React$useState=react_default.a.useState({email:'',password:''}),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},name,value)));}function handleSubmit(e){e.preventDefault();var email=data.email,password=data.password;if(!email||!password){return;}onLogin(email,password);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Form,{name:\"login-form\",title:\"\\u0412\\u0445\\u043E\\u0434\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"authform__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"authform__input authform__input_type_email\",id:\"email-input\",value:data.email,name:\"email\",placeholder:\"Email\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"email-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form__label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"authform__input authform__input_type_password\",id:\"password-input\",value:data.password,name:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",required:true,minLength:\"8\",maxLength:\"200\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"form__error\",id:\"password-input-error\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"authform__button\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})});};\n// CONCATENATED MODULE: ./src/components/InfoTooltip.js\n// eslint-disable-next-line react/prop-types\nfunction InfoTooltip(_ref){var onClose=_ref.onClose,isOk=_ref.isOk;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup popup-popup-registration popup_active\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container popup__container_registration\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__button popup__button_close\",type:\"button\",\"aria-label\":\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u0444\\u043E\\u0440\\u043C\\u0443\",onClick:onClose}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup__register popup__register_type_\".concat(isOk?'ok':'error')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"popup__title_registration\",children:isOk?'Вы успешно зарегистрировались':'Что-то пошло не так! Попробуйте ещё раз.'})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/components/ProtectedRoute.js\n// eslint-disable-next-line react/prop-types\nvar ProtectedRoute_ProtectedRoute=function ProtectedRoute(_ref){var Component=_ref.component,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"component\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:// eslint-disable-next-line react/prop-types\nfunction children(){return props.isLoggedIn===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Component,Object(objectSpread2[\"a\" /* default */])({},props)):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"./sign-up\"});}});};/* harmony default export */ var components_ProtectedRoute = (ProtectedRoute_ProtectedRoute);\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),isEditAvatarPopupOpen=_React$useState2[0],setIsAvatarPopupOpen=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isEditProfilePopupOpen=_React$useState4[0],setIsPopupProfileState=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setIsAddPlacePopupOpen=_React$useState6[1];var _React$useState7=react_default.a.useState(false),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),isImagePopupOpen=_React$useState8[0],setIsImagePopupOpen=_React$useState8[1];var _React$useState9=react_default.a.useState({}),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),selectedCard=_React$useState10[0],setSelectedCard=_React$useState10[1];var _React$useState11=react_default.a.useState({}),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),currentUser=_React$useState12[0],setCurrentUser=_React$useState12[1];var _React$useState13=react_default.a.useState([]),_React$useState14=Object(slicedToArray[\"a\" /* default */])(_React$useState13,2),cards=_React$useState14[0],setCards=_React$useState14[1];var _React$useState15=react_default.a.useState(false),_React$useState16=Object(slicedToArray[\"a\" /* default */])(_React$useState15,2),isLoggedIn=_React$useState16[0],setIsLogged=_React$useState16[1];var _React$useState17=react_default.a.useState({}),_React$useState18=Object(slicedToArray[\"a\" /* default */])(_React$useState17,2),userInfo=_React$useState18[0],setUserInfo=_React$useState18[1];var _React$useState19=react_default.a.useState(false),_React$useState20=Object(slicedToArray[\"a\" /* default */])(_React$useState19,2),registerIsOk=_React$useState20[0],setRegisterIsOk=_React$useState20[1];var _React$useState21=react_default.a.useState(false),_React$useState22=Object(slicedToArray[\"a\" /* default */])(_React$useState21,2),showInfoTooltip=_React$useState22[0],setShowInfoTooltip=_React$useState22[1];var history=Object(react_router[\"g\" /* useHistory */])();react_default.a.useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var userInfo;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return utils_api.getUserInfo();case 2:userInfo=_context.sent;return _context.abrupt(\"return\",userInfo);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData().then(function(data){return setCurrentUser(data);}).catch(function(err){return console.log(err);});},[]);react_default.a.useEffect(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var cardsData;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return utils_api.getCards();case 2:cardsData=_context2.sent;return _context2.abrupt(\"return\",cardsData);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData().then(function(data){return setCards(data);}).catch(function(err){return console.log(err);});},[]);function tokenCheck(){var token=localStorage.getItem('token');if(!token){return;}getUserData(token).then(function(res){if(res.status===401){throw new Error('Токен не передан или передан не в том формате');}else if(res.status===400){throw new Error('Переданный токен некорректен');}else{return res.json();}}).then(function(res){var data=res.data?res.data:{};setIsLogged(true);setUserInfo(data);}).catch(function(err){return console.log(err);});}react_default.a.useEffect(function(){tokenCheck();if(isLoggedIn){history.push('/');}},[isLoggedIn]);function handleEditAvatarClick(){setIsAvatarPopupOpen(true);}function handleEditProfileClick(){setIsPopupProfileState(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleCardClick(card){setIsImagePopupOpen(true);setSelectedCard(card);}function handleCloseAll(){setIsPopupProfileState(false);setIsAvatarPopupOpen(false);setIsAddPlacePopupOpen(false);setIsImagePopupOpen(false);setSelectedCard({});}function handleUpdateUser(userData){utils_api.setUserInfo(userData).then(function(data){setCurrentUser(data);handleCloseAll();}).catch(function(err){console.log(err);});}function handleUpdateAvatar(userData){utils_api.setUserAvatar(userData).then(function(data){setCurrentUser(data);handleCloseAll();}).catch(function(err){console.log(err);});}function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});if(!isLiked){utils_api.addLike(card).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.log(err);});}else{utils_api.deleteLike(card).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.log(err);});}}function handleCardDelete(card){utils_api.deleteCard(card).then(function(){setCards(cards.filter(function(item){return item._id!==card._id;}));}).catch(function(err){console.log(err);});}function handleAddPlace(placeData){utils_api.addNewCard(placeData).then(function(data){setCards([data].concat(Object(toConsumableArray[\"a\" /* default */])(cards)));handleCloseAll();}).catch(function(err){console.log(err);});}function handleRegister(email,password){register(email,password).then(function(res){if(res.status===400){setRegisterIsOk(false);setShowInfoTooltip(true);throw new Error('некорректно заполнено одно из полей');}else{setRegisterIsOk(true);setShowInfoTooltip(true);}}).catch(function(e){return console.log(e);});}function handleLogin(email,password){return authorize(email,password).then(function(data){if(data.token){setIsLogged(true);localStorage.setItem('token',data.token);}else if(data.status===400){throw new Error('не передано одно из полей');}else if(data.status===401){throw new Error('пользователь с email не найден');}else{throw new Error('что-то пошло не так');}}).catch(function(err){return console.log(err);});}function handleSignOut(){localStorage.removeItem('token');history.push('/sign-in');setIsLogged(false);}var closeInfoTooltipSuccess=function closeInfoTooltipSuccess(){setShowInfoTooltip(false);history.push('/sign-in');};var closeInfoTooltipFailure=function closeInfoTooltipFailure(){setShowInfoTooltip(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page__content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header,{isLoggedIn:isLoggedIn,setLogged:setIsLogged,onSignOut:handleSignOut,userInfo:userInfo,setUserInfo:setUserInfo}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-up\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register,{onRegister:handleRegister})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/sign-in\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{onLogin:handleLogin,tokenCheck:tokenCheck})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProtectedRoute,{exact:true,path:\"/\",isLoggedIn:isLoggedIn,component:Main,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onCardClick:handleCardClick,cards:cards,onCardDelete:handleCardDelete,onCardLike:handleCardLike}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{children:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/sign-in\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EditProfilePopup,{isOpen:isEditProfilePopupOpen,closeIt:handleCloseAll,onUpdateUser:handleUpdateUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,closeIt:handleCloseAll,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddPlacePopup,{isOpen:isAddPlacePopupOpen,closeIt:handleCloseAll,onUpdatePlace:handleAddPlace}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PopupWithForm,{name:\"popup-confirm\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",buttonText:\"\\u0414\\u0430\",isOpen:false,closeIt:handleCloseAll}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImagePopup,{isOpen:isImagePopupOpen,card:selectedCard,closeIt:handleCloseAll}),showInfoTooltip&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InfoTooltip,{onClose:registerIsOk?closeInfoTooltipSuccess:closeInfoTooltipFailure,isOk:registerIsOk})]})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 41)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[40,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\SidWonder\\Documents\\auth\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SidWonder\\Documents\\auth\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SidWonder\\Documents\\auth\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SidWonder\\Documents\\auth\\src\\index.css","C:\\Users\\SidWonder\\Documents\\auth\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\SidWonder\\Documents\\auth\\src\\img\\header\\header-logo.svg","C:/Users/SidWonder/Documents/auth/src/components/Header.js","C:/Users/SidWonder/Documents/auth/src/contexts/CurrentUserContext.js","C:/Users/SidWonder/Documents/auth/src/components/Card.js","C:/Users/SidWonder/Documents/auth/src/components/Main.js","C:/Users/SidWonder/Documents/auth/src/components/Footer.js","C:/Users/SidWonder/Documents/auth/src/components/PopupWithForm.js","C:/Users/SidWonder/Documents/auth/src/components/EditProfilePopup.js","C:/Users/SidWonder/Documents/auth/src/components/AddPlacePopup.js","C:/Users/SidWonder/Documents/auth/src/components/ImagePopup.js","C:/Users/SidWonder/Documents/auth/src/components/EditAvatarPopup.js","C:/Users/SidWonder/Documents/auth/src/utils/api.js","C:/Users/SidWonder/Documents/auth/src/utils/auth.js","C:/Users/SidWonder/Documents/auth/src/components/Form.js","C:/Users/SidWonder/Documents/auth/src/components/Register.js","C:/Users/SidWonder/Documents/auth/src/components/Login.js","C:/Users/SidWonder/Documents/auth/src/components/InfoTooltip.js","C:/Users/SidWonder/Documents/auth/src/components/ProtectedRoute.js","C:/Users/SidWonder/Documents/auth/src/components/App.js","C:/Users/SidWonder/Documents/auth/src/reportWebVitals.js","C:/Users/SidWonder/Documents/auth/src/index.js"],"names":["Header","isLoggedIn","setLogged","onSignOut","userInfo","setUserInfo","email","currentLocation","useLocation","pathname","path","headerLogo","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","name","link","likes","isOwn","owner","_id","DeleteBtn","handleDeleteClick","isLiked","some","i","cardLikeButtonClassName","handleClick","handleLikeClick","length","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","about","avatar","map","Footer","Date","getFullYear","PopupWithForm","title","buttonText","isOpen","closeIt","children","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","useEffect","bind","AddPlacePopup","onUpdatePlace","placeName","setPlaceName","placeLink","setPlaceLink","handlePlaceNameChange","handlePlaceLinkChange","ImagePopup","console","log","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","Api","baseUrl","headers","Promise","all","getUserInfo","getCards","res","ok","reject","status","json","fetch","method","then","_handleOriginalResponse","data","body","JSON","stringify","api","authorization","BASE_URL","register","password","Accept","catch","err","authorize","getUserData","token","Authorization","Form","Register","onRegister","setData","handleChange","evt","Login","onLogin","InfoTooltip","onClose","isOk","ProtectedRoute","Component","component","props","App","isEditAvatarPopupOpen","setIsAvatarPopupOpen","isEditProfilePopupOpen","setIsPopupProfileState","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLogged","registerIsOk","setRegisterIsOk","showInfoTooltip","setShowInfoTooltip","history","useHistory","fetchData","cardsData","tokenCheck","localStorage","getItem","auth","Error","push","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","handleCloseAll","handleUpdateUser","userData","handleUpdateAvatar","setUserAvatar","addLike","newCard","state","c","deleteLike","deleteCard","filter","item","handleAddPlace","placeData","addNewCard","handleRegister","handleLogin","setItem","handleSignOut","removeItem","closeInfoTooltipSuccess","closeInfoTooltipFailure","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export default __webpack_public_path__ + \"static/media/header-logo.bbe2a6ea.svg\";","import headerLogo from '../img/header/header-logo.svg';\r\nimport React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function Header({isLoggedIn, setLogged, onSignOut, userInfo, setUserInfo}) {\r\n\t// eslint-disable-next-line react/prop-types\r\n\tconst { email } = userInfo;\r\n\tconst currentLocation = useLocation();\r\n\r\n\tconst { pathname } = currentLocation;\r\n\tconst path = currentLocation.pathname === '/sign-in' ? '/sign-up' : '/sign-in';\r\n\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<Link to=\"/\" target=\"_self\" className=\"header__link\">\r\n\t\t\t\t<img className=\"header__logo\" src={headerLogo} alt=\"Место Россия\"/>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"header__nav\">\r\n\t\t\t\t{email && <div className=\"header__email\">{pathname === '/' ? email : ''}</div>}\r\n\t\t\t\t{isLoggedIn ? (\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto='/'\r\n\t\t\t\t\t\tonClick={() => onSignOut()}\r\n\t\t\t\t\t\tclassName=\"header__link\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tВыйти\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Link to={path} className=\"header__link-noauth\">\r\n\t\t\t\t\t\t{pathname === '/sign-in' ? 'Регистрация' : 'Войти'}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\t// eslint-disable-next-line react/prop-types\r\n\tconst {name,link,likes} = card;\r\n\t// eslint-disable-next-line react/prop-types\r\n\tconst isOwn = card.owner._id === currentUser._id;\r\n\tconst DeleteBtn = () => (\r\n\t\t<button type=\"button\"\r\n\t\t\tclassName=\"place__button place__button_delete\"\r\n\t\t\taria-label=\"Удалить карточку\"\r\n\t\t\tonClick={handleDeleteClick}\r\n\t\t></button>);\r\n\t// eslint-disable-next-line react/prop-types\r\n\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\tconst cardLikeButtonClassName = `${isLiked ? 'place__button_like-active' : ''}`;\r\n    \r\n\tfunction handleClick() {\r\n\t\tonCardClick(card);\r\n\t}\r\n\tfunction handleLikeClick() {\r\n\t\tonCardLike(card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick() {\r\n\t\tonCardDelete(card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<article className=\"place\">\r\n\t\t\t\t<img src={link} alt={name} loading=\"lazy\" className=\"place__img\" onClick={handleClick}/>\r\n\t\t\t\t<div className=\"place__wrapper\">\r\n\t\t\t\t\t<h3 className=\"place__title\">{name}</h3>\r\n\t\t\t\t\t<button type=\"button\"\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t\tclassName={`place__button place__button_like ${cardLikeButtonClassName}`}\r\n\t\t\t\t\t\taria-label=\"Лайкнуть эту шнягу\"></button>\r\n\t\t\t\t\t{/* eslint-disable-next-line react/prop-types */}\r\n\t\t\t\t\t<span className=\"place__like-counter\">{likes.length}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isOwn && <DeleteBtn/>}\r\n\t\t\t</article>\r\n\t);\r\n}","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nimport Card from './Card';\r\n\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, onCardDelete, onCardLike, cards}) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\tconst {about, name, avatar} = currentUser;\r\n\treturn (\r\n\t\t\t<main className=\"content\">\r\n\t\t\t\t<section className=\"profile\">\r\n\t\t\t\t\t<div onClick={onEditAvatar} className=\"profile__avatar-wrapper\">\r\n\t\t\t\t\t\t<img className=\"profile__avatar\"\r\n\t\t\t\t\t\t\tsrc={avatar}\r\n\t\t\t\t\t\t\t// style={{ backgroundImage: `url(${defaultAvatar})` }}\r\n\t\t\t\t\t\t\talt=\"Аватар пользователя\"/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"profile__wrapper\">\r\n\t\t\t\t\t\t<h1 className=\"profile__header\">{name}</h1>\r\n\t\t\t\t\t\t<button className=\"profile__button profile__button_edit\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\taria-label=\"Редактировать профиль\"\r\n\t\t\t\t\t\t\tonClick={onEditProfile}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<p className=\"profile__subtitle\">{about}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"profile__button profile__button_add\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\taria-label=\"Добавить что-то новенькое\"\r\n\t\t\t\t\t\tonClick={onAddPlace}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section className=\"places\">\r\n\t\t\t\t\t{/* eslint-disable-next-line react/prop-types */}\r\n\t\t\t\t\t{cards.map((card) =>(\r\n\t\t\t\t\t\t<Card key={card._id}\r\n\t\t\t\t\t\t\t  card={card}\r\n\t\t\t\t\t\t\t  onCardLike={onCardLike}\r\n\t\t\t\t\t\t\t  onCardDelete={onCardDelete}\r\n\t\t\t\t\t\t\t  onCardClick={onCardClick}/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</section>\r\n\t\t\t</main>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport default function Footer () {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__item\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n\t\t</footer>\r\n\t);\r\n}","import React from 'react';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function PopupWithForm({name, title, buttonText,isOpen, closeIt ,children, onSubmit}) {\r\n\treturn(\r\n\t\t<div className={`popup popup-${name} ${isOpen ? 'popup_active' : ''}`}>\r\n\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t<h3 className=\"popup__title\">{title}</h3>\r\n\t\t\t\t{/* eslint-disable-next-line react/prop-types */}\r\n\t\t\t\t<form className=\"form\" name={name} noValidate onSubmit={onSubmit}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName=\"form__button\"\r\n\t\t\t\t\t>{buttonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"popup__button popup__button_close\"\r\n\t\t\t\t\tonClick={closeIt}\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function EditProfilePopup({isOpen, closeIt, onUpdateUser}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('Жак Ив Кусто');\r\n    const [description, setDescription] = React.useState('Классный чел');\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm name='profile-edit'\r\n                       title='Редактировать профиль'\r\n                       buttonText='Сохранить'\r\n                       isOpen={isOpen}\r\n                       closeIt={closeIt}\r\n                       onSubmit={handleSubmit.bind(this)}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input className=\"form__input\"\r\n                       id=\"profile__header-change\"\r\n                       type=\"text\"\r\n                       name=\"profile-name\"\r\n                       placeholder=\"Имя\"\r\n                       minLength=\"2\"\r\n                       maxLength=\"40\"\r\n                       value={name || ''}\r\n                       onChange={handleNameChange}\r\n                       required\r\n                />\r\n                <span className=\"form__error\" id=\"profile__header-change-error\"></span>\r\n            </label>\r\n            <label className=\"form__label\">\r\n                <input className=\"form__input\"\r\n                       id=\"profile__subtitle-change\"\r\n                       type=\"text\"\r\n                       name=\"profile-job\"\r\n                       minLength=\"2\"\r\n                       maxLength=\"200\"\r\n                       required\r\n                       value={description || ''}\r\n                       onChange={handleDescriptionChange}\r\n                       placeholder=\"Чем занят?\"/>\r\n                <span className=\"form__error\" id=\"profile__subtitle-change-error\"></span>\r\n            </label>\r\n        </PopupWithForm>);\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function AddPlacePopup({isOpen, closeIt, onUpdatePlace}) {\r\n    const [placeName, setPlaceName] = React.useState('');\r\n    const [placeLink, setPlaceLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [isOpen])\r\n\r\n    function handlePlaceNameChange(e) {\r\n        setPlaceName(e.target.value);\r\n    }\r\n\r\n    function handlePlaceLinkChange(e) {\r\n        setPlaceLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdatePlace({\r\n            name: placeName,\r\n            link: placeLink,\r\n        });\r\n    }\r\n\r\n    return (\r\n    \t<PopupWithForm name='popup-place'\r\n                           title='Новое место'\r\n                           buttonText='Создать'\r\n                           isOpen={isOpen}\r\n                           closeIt={closeIt}\r\n                            onSubmit={handleSubmit.bind(this)}>\r\n        <label className=\"form__label\">\r\n            <input id=\"place-title-change\"\r\n                   className=\"form__input\"\r\n                   type=\"text\"\r\n                   name=\"place-title\"\r\n                   placeholder=\"Название\"\r\n                   minLength=\"1\"\r\n                   maxLength=\"30\"\r\n                   value={placeName}\r\n                   onChange={handlePlaceNameChange}\r\n                   required/>\r\n            <span className=\"form__error\" id=\"place-title-change-error\"></span>\r\n        </label>\r\n        <label className=\"form__label\">\r\n            <input className=\"form__input\"\r\n                   type=\"url\"\r\n                   id=\"place-url-change\"\r\n                   name=\"place-url\"\r\n                   placeholder=\"Ссылка на картинку\"\r\n                   minLength=\"1\"\r\n                   value={placeLink}\r\n                   onChange={handlePlaceLinkChange}\r\n                   required\r\n            />\r\n            <span className=\"form__error\" id=\"place-url-change-error\"></span>\r\n        </label>\r\n        </PopupWithForm>)};","import React from 'react';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function ImagePopup({isOpen, card, closeIt}) {\r\n\tconsole.log('try', `popup popup-image ${isOpen ? 'popup_active' : ''}`);\r\n\t// eslint-disable-next-line react/prop-types\r\n\tconst {name, link} = card;\r\n\treturn (\r\n\t\t<div className={`popup popup-image ${isOpen ? 'popup_active' : ''}`}>\r\n\t\t\t<div className=\"popup__container popup__container_image\">\r\n\t\t\t\t<img className=\"popup__img\" loading=\"lazy\" src={link} alt={name}></img>\r\n\t\t\t\t<p className=\"popup__subtitle\">{name}</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={closeIt}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"popup__button popup__button_close popup__image-view\"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function EditAvatarPopup ({isOpen, closeIt, onUpdateAvatar}) {\r\n\r\n\tconst avatarRef = React.useRef(null);\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tonUpdateAvatar({\r\n\t\t\tavatar: avatarRef.current.value,\r\n\t\t});\r\n\t\tavatarRef.current.value = '';\r\n\t}\r\n\r\n\treturn(\r\n\t\t<PopupWithForm name='popup-avatar'\r\n\t\t\ttitle='Обновить аватар'\r\n\t\t\tbuttonText='Сохранить'\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tcloseIt={closeIt}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t\t\t<label className=\"form__label\">\r\n\t\t\t\t\t\t<input className=\"form__input\"\r\n\t\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\t\tid=\"avatar-url-change\"\r\n\t\t\t\t\t\t\tname=\"avatar-url\"\r\n\t\t\t\t\t\t\tplaceholder=\"Ссылка на аватар\"\r\n\t\t\t\t\t\t\tminLength=\"1\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className=\"form__error\" id=\"avatar-url-change-error\"></span>\r\n\t\t\t\t\t</label>\r\n\t\t\t</PopupWithForm>);\r\n}"," class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this.baseUrl = baseUrl;\r\n        this.headers = headers;\r\n    }\r\n\r\n    getInitialData() {\r\n        return Promise.all([this.getUserInfo(), this.getCards()]);\r\n    }\r\n\r\n\r\n    _handleOriginalResponse(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Error: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this.headers\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name:data['name'],\r\n                about:data['about']\r\n            })\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    setUserAvatar(data){\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data['avatar']\r\n            })\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'GET',\r\n            headers: this.headers\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    addNewCard(data) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data['name'],\r\n                link: data['link']\r\n            })\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    addLike(data){\r\n        return fetch (`${this.baseUrl}/cards/likes/${data['_id']}`, {\r\n            method: 'PUT',\r\n            headers: this.headers\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    deleteLike(data){\r\n        return fetch (`${this.baseUrl}/cards/likes/${data['_id']}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n\r\n    deleteCard(data){\r\n        return fetch(`${this.baseUrl}/cards/${data['_id']}`,{\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        }).then(this._handleOriginalResponse)\r\n    }\r\n}\r\n\r\n const api = new Api({\r\n     baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-21',\r\n     headers: {\r\n         authorization: '106173b1-6f76-485f-b86e-e9e649d98c04',\r\n         'Content-Type': 'application/json'\r\n     }\r\n });\r\n\r\n export default api;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) =>  fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ password, email }),\r\n    }).then((res) => res)\r\n    .catch((err) => console.log(err));\r\n\r\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email  }),\r\n}).then((res) => (res.ok ? res.json() : res))\r\n    .catch((err) => console.log(err));\r\n\r\nexport const getUserData = (token) => fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n    },\r\n}).then((res) => res)\r\n    .catch((err) => console.log(err));\r\n","import React from 'react';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction Form({name, title, children, onSubmit,}) {\r\n    return (\r\n        <div className={`authpage form_type_${name}`}>\r\n            <div className=\"authpage__container\">\r\n                <h3 className=\"authform__title\">{title}</h3>\r\n                <form className=\"authform\" name={name} method=\"GET\" noValidate onSubmit={onSubmit}>\r\n                    {children}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form;\r\n","// eslint-disable-next-line no-unused-vars\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Form from './Form';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function Register ({onRegister}) {\r\n\tconst [data, setData] = React.useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tfunction handleChange(evt) {\r\n\t\tconst {name, value} = evt.target;\r\n\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\t\tfunction handleSubmit(evt) {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tconst {email, password} = data;\r\n\t\t\tonRegister(email, password);\r\n\t\t}\r\n\r\n\treturn (<>\r\n\t\t<Form name=\"register-form\" title=\"Регистрация\" onSubmit={handleSubmit}>\r\n\t\t\t<label className=\"authform__label\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tclassName=\"authform__input authform__input_type_email\"\r\n\t\t\t\t\tid=\"email-input\"\r\n\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"form__error\" id=\"email-input-error\" />\r\n\t\t\t</label>\r\n\t\t\t<label className=\"form__label\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tclassName=\"authform__input authform__input_type_password\"\r\n\t\t\t\t\tid=\"password-input\"\r\n\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tminLength=\"8\"\r\n\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"form__error\" id=\"password-input-error\" />\r\n\t\t\t</label>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tclassName=\"authform__button\"\r\n\t\t\t>\r\n\t\t\t\tЗарегистрироваться\r\n\t\t\t</button>\r\n\t\t\t<p className=\"authform__login\">\r\n\t\t\t\tУже зарегистрированы?{' '}\r\n\t\t\t\t<Link to='/sign-in' className=\"authform__link\">\r\n\t\t\t\t\tВойти\r\n\t\t\t\t</Link>\r\n\t\t\t</p>\r\n\t\t</Form>\r\n\t</>);\r\n}","import React from 'react';\r\nimport Form from './Form';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport  default function Login( { onLogin  }) {\r\n\r\n\tconst [data, setData] = React.useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tfunction handleChange(e) {\r\n\t\tconst { name, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[name]: value,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst { email, password } = data;\r\n\r\n\t\tif (!email || !password) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tonLogin (email, password);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form name=\"login-form\" title=\"Вход\" onSubmit={handleSubmit}>\r\n\t\t\t\t<label className=\"authform__label\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tclassName=\"authform__input authform__input_type_email\"\r\n\t\t\t\t\t\tid=\"email-input\"\r\n\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__error\" id=\"email-input-error\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label className=\"form__label\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tclassName=\"authform__input authform__input_type_password\"\r\n\t\t\t\t\t\tid=\"password-input\"\r\n\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"8\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"form__error\" id=\"password-input-error\" />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tclassName=\"authform__button\"\r\n\t\t\t\t>\r\n\t\t\t\t\tВойти\r\n\t\t\t\t</button>\r\n\t\t\t</Form>\r\n\r\n\t\t</>\r\n\t);\r\n};\r\n","import React from 'react';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nexport default function InfoTooltip({ onClose, isOk }) {\r\n    return (\r\n        <div className=\"popup popup-popup-registration popup_active\">\r\n            <div className=\"popup__container popup__container_registration\">\r\n                <button className=\"popup__button popup__button_close\" type=\"button\" aria-label=\"Закрыть форму\" onClick={onClose} />\r\n                <div className={`popup__register popup__register_type_${isOk ? 'ok' : 'error'}`}></div>\r\n                <h3 className=\"popup__title_registration\">\r\n                    {isOk ? 'Вы успешно зарегистрировались' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                </h3>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n\treturn (\r\n\t\t<Route>\r\n\t\t\t{\r\n\t\t\t\t// eslint-disable-next-line react/prop-types\r\n\t\t\t\t() => props.isLoggedIn === true ? <Component {...props} /> : <Redirect to='./sign-up'/>\r\n\t\t\t}\r\n\t\t</Route>\r\n\t)}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Route, Switch, Redirect, BrowserRouter, useHistory} from 'react-router-dom';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport * as auth from '../utils/auth';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nfunction App() {\r\n\r\n\tconst [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\r\n\tconst [isEditProfilePopupOpen, setIsPopupProfileState] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n\tconst [currentUser, setCurrentUser] = React.useState({});\r\n\tconst [cards, setCards] = React.useState([]);\r\n\r\n\tconst [isLoggedIn, setIsLogged] = React.useState(false);\r\n\tconst [userInfo, setUserInfo] = React.useState({});\r\n\tconst [registerIsOk, setRegisterIsOk] = React.useState(false);\r\n\tconst [showInfoTooltip, setShowInfoTooltip] = React.useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst userInfo = await api.getUserInfo();\r\n\t\t\treturn userInfo;\r\n\t\t}\r\n\t\tfetchData()\r\n\t\t\t.then(data=> setCurrentUser(data))\r\n\t\t\t.catch(err => console.log(err));\r\n\t}, []);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst cardsData = await api.getCards();\r\n\t\t\treturn cardsData;\r\n\t\t}\r\n\t\tfetchData()\r\n\t\t\t.then(data=> setCards(data))\r\n\t\t\t.catch(err => console.log(err));\r\n\t}, []);\r\n\r\n\tfunction tokenCheck() {\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tif (!token) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tauth.getUserData(token)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tthrow new Error('Токен не передан или передан не в том формате');\r\n\t\t\t\t} else if (res.status === 400) {\r\n\t\t\t\t\tthrow new Error('Переданный токен некорректен');\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn res.json();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst data = res.data ? res.data : {};\r\n\t\t\t\tsetIsLogged(true);\r\n\t\t\t\tsetUserInfo(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\ttokenCheck();\r\n\t\tif (isLoggedIn) {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t}, [isLoggedIn]);\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsAvatarPopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsPopupProfileState(true);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleCardClick(card) {\r\n\t\tsetIsImagePopupOpen(true);\r\n\t\tsetSelectedCard(card);\r\n\t}\r\n\r\n\tfunction handleCloseAll() {\r\n\t\tsetIsPopupProfileState(false);\r\n\t\tsetIsAvatarPopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsImagePopupOpen(false);\r\n\t\tsetSelectedCard({});\r\n\t}\r\n\r\n\tfunction handleUpdateUser(userData) {\r\n\t\tapi.setUserInfo(userData).then((data) => {\r\n\t\t\tsetCurrentUser(data);\r\n\t\t\thandleCloseAll();\r\n\t\t}).catch((err) => { console.log(err); });\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar(userData) {\r\n\t\tapi.setUserAvatar(userData).then((data) => {\r\n\t\t\tsetCurrentUser(data);\r\n\t\t\thandleCloseAll();\r\n\t\t}).catch((err) => { console.log(err); });\r\n\t}\r\n\r\n\r\n\tfunction handleCardLike(card) {\r\n\t\t// Снова проверяем, есть ли уже лайк на этой карточке\r\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\t\tif (!isLiked) {\r\n\t\t\tapi.addLike(card).then((newCard) => {\r\n\t\t\t\tsetCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n\t\t\t}).catch((err) => { console.log(err); });\r\n\t\t} else {\r\n\t\t\tapi.deleteLike(card).then((newCard) => {\r\n\t\t\t\tsetCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n\t\t\t}).catch((err) => { console.log(err); });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tapi.deleteCard(card).then(() => {\r\n\t\t\tsetCards(cards.filter((item) => item._id !== card._id));\r\n\t\t}).catch((err) => { console.log(err); });\r\n\t}\r\n\r\n\tfunction handleAddPlace(placeData) {\r\n\t\tapi.addNewCard(placeData).then((data) => {\r\n\t\t\tsetCards([data, ...cards]);\r\n\t\t\thandleCloseAll();\r\n\t\t}).catch((err) => { console.log(err); });\r\n\t}\r\n\r\n\tfunction handleRegister(email, password) {\r\n\t\tauth.register(email, password)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\tsetRegisterIsOk(false);\r\n\t\t\t\t\tsetShowInfoTooltip(true);\r\n\t\t\t\t\tthrow new Error('некорректно заполнено одно из полей');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetRegisterIsOk(true);\r\n\t\t\t\t\tsetShowInfoTooltip(true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((e) => console.log(e));\r\n\t}\r\n\r\n\tfunction handleLogin(email, password) {\r\n\t\treturn auth\r\n\t\t\t.authorize(email, password)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.token) {\r\n\t\t\t\t\tsetIsLogged(true);\r\n\t\t\t\t\tlocalStorage.setItem('token', data.token);\r\n\t\t\t\t} else if (data.status === 400) {\r\n\t\t\t\t\tthrow new Error('не передано одно из полей');\r\n\t\t\t\t} else if (data.status === 401) {\r\n\t\t\t\t\tthrow new Error('пользователь с email не найден');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error('что-то пошло не так');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\tfunction handleSignOut(){\r\n\t\tlocalStorage.removeItem('token');\r\n\t\thistory.push('/sign-in');\r\n\t\tsetIsLogged(false);\r\n\t}\r\n\r\n\tconst closeInfoTooltipSuccess = () => {\r\n\t\tsetShowInfoTooltip(false);\r\n\t\thistory.push('/sign-in');\r\n\t};\r\n\r\n\tconst closeInfoTooltipFailure = () => {\r\n\t\tsetShowInfoTooltip(false);\r\n\t};\r\n\treturn (\r\n\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t<div className=\"page__content\">\r\n\t\t\t\t<div className=\"page\">\r\n\t\t\t\t\t<Header \r\n\t\t\t\t\t\tisLoggedIn={isLoggedIn}\r\n\t\t\t\t\t\tsetLogged={setIsLogged}\r\n\t\t\t\t\t\tonSignOut={handleSignOut}\r\n\t\t\t\t\t\tuserInfo={userInfo}\r\n\t\t\t\t\t\tsetUserInfo={setUserInfo}/>\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route path='/sign-up'>\r\n\t\t\t\t\t\t\t\t<Register onRegister={handleRegister}/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route path='/sign-in'>\r\n\t\t\t\t\t\t\t\t<Login  onLogin ={handleLogin} tokenCheck={tokenCheck} />\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<ProtectedRoute\r\n\t\t\t\t\t\t\t\texact path=\"/\"\r\n\t\t\t\t\t\t\t\tisLoggedIn={isLoggedIn}\r\n\t\t\t\t\t\t\t\tcomponent={Main}\r\n\t\t\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\t\t\t\tcards={cards}\r\n\t\t\t\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</ProtectedRoute>\r\n\t\t\t\t\t\t\t<Route>{isLoggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}</Route>\r\n\t\t\t\t\t\t</Switch>\r\n\r\n\t\t\t\t\t<Footer/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\r\n\t\t\t\t\tcloseIt={handleCloseAll}\r\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\r\n\t\t\t\t/>\r\n\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\r\n\t\t\t\t\tcloseIt={handleCloseAll}\r\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n\t\t\t\t/>\r\n\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\r\n\t\t\t\t\tcloseIt={handleCloseAll}\r\n\t\t\t\t\tonUpdatePlace={handleAddPlace}\r\n\t\t\t\t/>\r\n\t\t\t\t<PopupWithForm name='popup-confirm'\r\n\t\t\t\t\ttitle='Вы уверены?'\r\n\t\t\t\t\tbuttonText='Да'\r\n\t\t\t\t\tisOpen={false}\r\n\t\t\t\t\tcloseIt={handleCloseAll}\r\n\t\t\t\t/>\r\n\t\t\t\t<ImagePopup isOpen={isImagePopupOpen} card={selectedCard} closeIt={handleCloseAll}/>\r\n\t\t\t\t{showInfoTooltip && (\r\n\t\t\t\t\t<InfoTooltip\r\n\t\t\t\t\t\tonClose={registerIsOk ? closeInfoTooltipSuccess : closeInfoTooltipFailure}\r\n\t\t\t\t\t\tisOk={registerIsOk}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</CurrentUserContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}